<!DOCTYPE html>
<html lang="en" class="govuk-template">
  <head>
    <meta charset="utf-8">
    <title>Eligibility - Student travel discount - GOV.UK</title>
    <link rel="stylesheet" href="assets/govuk/govuk-frontend-5.12.0.min.css">
    <script type="module" src="assets/govuk/govuk-frontend-5.12.0.min.js"></script>
  </head>
  <body class="govuk-template__body">
    <script>window.GOVUKFrontend?.initAll();</script>

    <header class="govuk-header govuk-header--inverse" role="banner" data-module="govuk-header">
      <div class="govuk-header__container govuk-width-container">
        <div class="govuk-header__logo">
          <a href="index.html" class="govuk-header__link govuk-header__link--homepage">
            <img src="assets/govuk/assets/images/govuk-crest.svg" class="govuk-header__logotype-crown" width="36" height="32" alt="GOV.UK">
            <span class="govuk-header__logotype-text">GOV.UK</span>
          </a>
        </div>
      </div>
    </header>

    <main class="govuk-main-wrapper govuk-width-container">
      <div class="govuk-error-summary" id="error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" hidden>
        <h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem</h2>
        <div class="govuk-error-summary__body">
          <ul class="govuk-list govuk-error-summary__list">
            <li><a href="#yes">Select ‘Yes’ to continue</a></li>
          </ul>
        </div>
      </div>

      <form id="eligibility-form" action="apply.html" method="get" novalidate>
        <fieldset class="govuk-fieldset" aria-describedby="student-error">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">Are you a full-time student?</h1>
          </legend>

          <p class="govuk-error-message" id="student-error" hidden>
            <span class="govuk-visually-hidden">Error:</span> Select ‘Yes’ to continue
          </p>

          <div class="govuk-radios" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="yes" name="student" type="radio" value="yes">
              <label class="govuk-label govuk-radios__label" for="yes">Yes</label>
            </div>

            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="no" name="student" type="radio" value="no">
              <label class="govuk-label govuk-radios__label" for="no">No</label>
            </div>
          </div>
        </fieldset>

        <button class="govuk-button" data-module="govuk-button" type="submit">Continue</button>
      </form>
    </main>

    <footer class="govuk-footer" role="contentinfo">
      <div class="govuk-width-container">
        <p class="govuk-footer__licence-description">© Crown copyright</p>
      </div>
    </footer>

    <script>
      const form = document.getElementById('eligibility-form');
      const errorSummary = document.getElementById('error-summary');
      const errorMessage = document.getElementById('student-error');

      form.addEventListener('submit', function (e) {
        const yesSelected = document.getElementById('yes').checked;

        errorSummary.hidden = true;
        errorMessage.hidden = true;
        document.querySelector('.govuk-fieldset').classList.remove('govuk-form-group--error');

        if (!yesSelected) {
          e.preventDefault();
          errorSummary.hidden = false;
          errorMessage.hidden = false;
          document.querySelector('.govuk-fieldset').classList.add('govuk-form-group--error');

          errorSummary.focus();
        }
      });
    </script>
  </body>
</html>
